<!DOCTYPE html>
<!-- 
    BJERREDS SALTSJ√ñBAD - BILDCOLLAGE
    =================================
    UPPDATERING 2026-01-03:
    - √Ñndrat CSS och JS-l√§nkar till relativa s√∂kv√§gar
    - Lagt till video-sektion med inb√§ddad Twitter-video
    - Lagt till input-ruta f√∂r att l√§gga till egna bilder
    - Lagt till visning av aktuella bilder och v√§ntande bilder (stack)
    - Uppdaterat teknisk dokumentation
    
    UPPDATERING 2026-01-04 (Issue #2):
    - Ut√∂kat fr√•n 10 till 16 bilder
    - Lagt till metadata (datum, tweet-URL) f√∂r 7 bilder
    - Tooltip vid hover visar bildens datum
    - Inledande text som beskriver collaget
-->
<html lang="sv">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bjerreds Saltsj√∂bad - Bildcollage</title>
    <!-- L√§nk till extern CSS-fil f√∂r styling -->
    <!-- UPPDATERING 2026-01-03: √Ñndrad fr√•n felaktig absolut s√∂kv√§g till relativ s√∂kv√§g -->
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Huvudcontainer f√∂r hela sidan -->
    <div class="container">
        
        <!-- Sidhuvud med titel och information -->
        <header>
            <h1>Bjerreds Saltsj√∂bad</h1>
            <p class="subtitle">Bilder fr√•n #Bjerredssaltsjobad</p>
            <!-- L√§nk till Kent Lundgrens X-konto som k√§lla -->
            <p class="source">K√§lla: <a href="https://x.com/kentlundgren" target="_blank" rel="noopener noreferrer">@kentlundgren p√• X</a></p>
        </header>

        <!-- UPPDATERING 2026-01-04: Inledande beskrivning av bildcollaget -->
        <p class="intro-text">
            H√§r presenteras <strong>nio (9) bilder</strong> v√§xelvis, av totalt <strong>16 bilder</strong>. 
            Bilderna byts ut automatiskt var 4:e sekund. 
            <em>H√•ll muspekaren √∂ver en bild f√∂r att se datum.</em>
        </p>

        <!-- Rutn√§t f√∂r bildcollage - 3x3 bilder -->
        <div class="image-grid" id="imageGrid">
            <!-- 9 bildplatser som fylls dynamiskt via JavaScript -->
            <!-- Varje img-element har en alt-text f√∂r tillg√§nglighet -->
            <!-- UPPDATERING 2026-01-03: Tog bort felaktiga src-s√∂kv√§gar. JavaScript fyller i dessa dynamiskt. -->
            <div class="image-slot"><img src="" alt="Bjerreds Saltsj√∂bad bild 1" id="img1"></div>
            <div class="image-slot"><img src="" alt="Bjerreds Saltsj√∂bad bild 2" id="img2"></div>
            <div class="image-slot"><img src="" alt="Bjerreds Saltsj√∂bad bild 3" id="img3"></div>
            <div class="image-slot"><img src="" alt="Bjerreds Saltsj√∂bad bild 4" id="img4"></div>
            <div class="image-slot"><img src="" alt="Bjerreds Saltsj√∂bad bild 5" id="img5"></div>
            <div class="image-slot"><img src="" alt="Bjerreds Saltsj√∂bad bild 6" id="img6"></div>
            <div class="image-slot"><img src="" alt="Bjerreds Saltsj√∂bad bild 7" id="img7"></div>
            <div class="image-slot"><img src="" alt="Bjerreds Saltsj√∂bad bild 8" id="img8"></div>
            <div class="image-slot"><img src="" alt="Bjerreds Saltsj√∂bad bild 9" id="img9"></div>
        </div>

        <!-- UPPDATERING 2026-01-03: Video-sektion med inb√§ddad Twitter-video -->
        <section class="video-section">
            <h2>üé¨ Video fr√•n Bjerreds Saltsj√∂bad</h2>
            <div class="video-container">
                <!-- Twitter oEmbed - videon laddas via Twitter's widget.js -->
                <blockquote class="twitter-tweet" data-media-max-width="560">
                    <a href="https://twitter.com/kentlundgren/status/1991876902991343647"></a>
                </blockquote>
            </div>
            <p class="video-note">Videon laddas fr√•n X/Twitter. Om den inte visas, 
                <a href="https://x.com/kentlundgren/status/1991876902991343647" target="_blank">klicka h√§r f√∂r att se den p√• X</a>.
            </p>
        </section>

        <!-- UPPDATERING 2026-01-03: Input-sektion f√∂r att l√§gga till egna bilder -->
        <section class="add-image-section">
            <h2>‚ûï L√§gg till egna bilder</h2>
            <p class="section-description">Klistra in en bild-URL f√∂r att l√§gga till den i rotationen. Bilderna sparas i din webbl√§sare.</p>
            <div class="input-container">
                <input type="text" 
                       id="imageUrlInput" 
                       placeholder="https://exempel.com/bild.jpg"
                       aria-label="Bild-URL">
                <button id="addImageBtn" class="add-btn">L√§gg till</button>
            </div>
            <div id="inputMessage" class="input-message" style="display: none;"></div>
        </section>

        <!-- UPPDATERING 2026-01-03: Sektion som visar bildstatus -->
        <section class="image-status-section">
            <div class="status-grid">
                <!-- Visar de 9 bilder som visas just nu -->
                <div class="status-box current-images">
                    <h3>üñºÔ∏è Visas nu (9 bilder)</h3>
                    <ul id="currentImagesList" class="image-list"></ul>
                </div>
                
                <!-- Visar bilder som v√§ntar i stacken -->
                <div class="status-box stack-images">
                    <h3>üìö I k√∂ (stack)</h3>
                    <ul id="stackList" class="image-list"></ul>
                </div>
                
                <!-- Visar anv√§ndarens egna tillagda bilder -->
                <div class="status-box user-images">
                    <h3>üë§ Dina tillagda bilder</h3>
                    <ul id="userImagesList" class="image-list"></ul>
                </div>
            </div>
        </section>

        <!-- Knappar f√∂r dokumentation -->
        <!-- UPPDATERING 2026-01-03: Lagt till README-knapp som l√§nkar till GitHub -->
        <div class="tech-button-container">
            <button class="tech-button" id="openModal">
                <span class="tech-icon">‚öôÔ∏è</span> Teknisk Dokumentation
            </button>
            <a href="https://github.com/lundgren9/Twitter" 
               target="_blank" 
               rel="noopener noreferrer"
               class="tech-button readme-button"
               title="README.md √§r en dokumentationsfil som beskriver projektet. Den visas automatiskt p√• GitHub och inneh√•ller: projektbeskrivning, installationsguide, anv√§ndningsinstruktioner och tekniska detaljer. √ñppnas i ny flik.">
                <span class="tech-icon">üìñ</span> README p√• GitHub
            </a>
        </div>

    </div>

    <!-- Modal-f√∂nster f√∂r teknisk dokumentation -->
    <!-- Dolt som standard, visas n√§r anv√§ndaren klickar p√• knappen -->
    <div id="techModal" class="modal">
        <div class="modal-content">
            
            <!-- St√§ngknapp f√∂r modalen -->
            <span class="close">√ó</span>
            
            <!-- Inneh√•ll i modal-f√∂nstret -->
            <h2>Teknisk Dokumentation</h2>
            <p class="modal-intro">F√∂rklaring av hur bildcollaget fungerar, inklusive video-inb√§ddning och input-funktionalitet.</p>
            
            <!-- UPPDATERING 2026-01-03: Uppdaterad dokumentation -->
            
            <!-- Nuvarande implementation -->
            <h3>1. Nuvarande Implementation</h3>
            <p>Applikationen visar bilder fr√•n Twitter/X med hashtag #Bjerredssaltsjobad. Bilderna roterar automatiskt var 4:e sekund med fade-in/fade-out effekter.</p>
            
            <h4>Teknisk uppbyggnad:</h4>
            <ul>
                <li><strong>HTML:</strong> Strukturerar sidan med 3√ó3 rutn√§t f√∂r bilder, video-sektion, input-ruta och bildlistor</li>
                <li><strong>CSS:</strong> Responsiv design med CSS Grid, animationer och modern styling</li>
                <li><strong>JavaScript:</strong> Hanterar bildv√§xling, localStorage, input-validering och Twitter widget</li>
            </ul>

            <div class="info-box">
                <p><strong>üì∏ Bildk√§llor:</strong></p>
                <ul>
                    <li>10 bilder fr√•n @kentlundgren p√• X/Twitter</li>
                    <li>M√∂jlighet att l√§gga till egna bilder via input-rutan</li>
                    <li>Anv√§ndarbilder sparas i webbl√§sarens localStorage</li>
                </ul>
            </div>

            <!-- UPPDATERING 2026-01-03: Ny sektion om video-inb√§ddning -->
            <h3>2. Video-inb√§ddning (Twitter oEmbed)</h3>
            <p>Videon fr√•n Bjerreds Saltsj√∂bad b√§ddas in via Twitter's officiella embed-system.</p>
            
            <h4>2.1 Hur det fungerar:</h4>
            <ol>
                <li><strong>HTML-kod:</strong> En <code>&lt;blockquote class="twitter-tweet"&gt;</code> med l√§nk till tweeten</li>
                <li><strong>Twitter Widget:</strong> Scriptet <code>widgets.js</code> fr√•n Twitter laddas</li>
                <li><strong>Rendering:</strong> Twitter's script ers√§tter blockquote med en interaktiv video-spelare</li>
            </ol>

            <h4>2.2 Exempel p√• embed-kod:</h4>
            <pre><code>&lt;blockquote class="twitter-tweet"&gt;
    &lt;a href="https://twitter.com/kentlundgren/status/1991876902991343647"&gt;&lt;/a&gt;
&lt;/blockquote&gt;
&lt;script async src="https://platform.twitter.com/widgets.js"&gt;&lt;/script&gt;</code></pre>

            <h4>2.3 Begr√§nsningar:</h4>
            <div class="warning">
                <ul>
                    <li>‚ö†Ô∏è Kr√§ver internetanslutning f√∂r att ladda videon</li>
                    <li>‚ö†Ô∏è Beroende av Twitter's servrar och widget.js</li>
                    <li>‚ö†Ô∏è Kan blockeras av annonsblockerare eller privacy-till√§gg</li>
                </ul>
            </div>

            <!-- UPPDATERING 2026-01-03: Ny sektion om input-rutan -->
            <h3>3. Input-ruta f√∂r bilder</h3>
            <p>Anv√§ndare kan l√§gga till egna bilder som automatiskt ing√•r i rotationen.</p>

            <h4>3.1 S√• fungerar det:</h4>
            <ol>
                <li>Anv√§ndaren klistrar in en bild-URL i input-f√§ltet</li>
                <li>JavaScript validerar att det √§r en giltig URL (b√∂rjar med http/https)</li>
                <li>Bilden l√§ggs till i <code>imagePool</code>-arrayen</li>
                <li>Bilden sparas till <code>localStorage</code> f√∂r att finnas kvar vid n√§sta bes√∂k</li>
                <li>Bildlistorna uppdateras f√∂r att visa den nya bilden</li>
            </ol>

            <h4>3.2 localStorage - Lokal lagring utan backend</h4>
            <div class="info-box">
                <p><strong>Varf√∂r localStorage?</strong></p>
                <p>localStorage √§r en inbyggd funktion i webbl√§saren som l√•ter JavaScript spara data lokalt p√• anv√§ndarens dator. F√∂rdelar:</p>
                <ul>
                    <li>‚úÖ <strong>Ingen backend kr√§vs</strong> - allt k√∂rs i webbl√§saren</li>
                    <li>‚úÖ <strong>Data finns kvar</strong> √§ven efter att sidan st√§ngs</li>
                    <li>‚úÖ <strong>Enkelt att implementera</strong> med <code>localStorage.setItem()</code> och <code>getItem()</code></li>
                    <li>‚ö†Ô∏è <strong>Begr√§nsning:</strong> Data finns endast i den webbl√§saren d√§r det sparades</li>
                </ul>
            </div>

            <h4>3.3 Kod-exempel f√∂r localStorage:</h4>
            <pre><code>// Spara bilder
function saveUserImages(images) {
    localStorage.setItem('bjerred_user_images', JSON.stringify(images));
}

// Ladda bilder
function loadSavedImages() {
    const saved = localStorage.getItem('bjerred_user_images');
    return saved ? JSON.parse(saved) : [];
}</code></pre>

            <!-- UPPDATERING 2026-01-03: Ny sektion om bildlistor -->
            <h3>4. Bildlistor och "Stack"</h3>
            <p>Sidan visar tre listor f√∂r att ge √∂verblick √∂ver bilderna:</p>

            <h4>4.1 "Visas nu" (9 bilder)</h4>
            <p>Visar vilka 9 bilder som f√∂r tillf√§llet visas i 3√ó3-rutn√§tet. Uppdateras automatiskt var 4:e sekund n√§r en bild byts ut.</p>

            <h4>4.2 "I k√∂" (stack)</h4>
            <p>Visar bilder som v√§ntar p√• att visas. N√§r en bild byts ut i rutn√§tet h√§mtas n√§sta bild fr√•n denna k√∂.</p>
            <div class="info-box">
                <p><strong>Hur stacken fungerar:</strong></p>
                <ul>
                    <li>Alla bilder i <code>imagePool</code> som inte visas just nu √§r "i k√∂"</li>
                    <li>Bilder h√§mtas sekventiellt (en efter en) fr√•n poolen</li>
                    <li>N√§r alla bilder visats b√∂rjar det om fr√•n b√∂rjan</li>
                </ul>
            </div>

            <h4>4.3 "Dina tillagda bilder"</h4>
            <p>Visar bilder som anv√§ndaren sj√§lv lagt till via input-rutan. Dessa kan tas bort genom att klicka p√• √ó bredvid bilden.</p>

            <!-- UPPDATERING 2026-01-03: Ny sektion om lightbox och bildmetadata -->
            <h3>5. Lightbox och bildmetadata</h3>
            <p>Klicka p√• en bild i collaget f√∂r att se den i full storlek i en lightbox.</p>

            <h4>5.1 Lightbox-funktioner:</h4>
            <ul>
                <li><strong>Visa hela bilden:</strong> Bilden visas i full storlek utan besk√§rning</li>
                <li><strong>"√ñppna p√• X":</strong> L√§nk till originaltweeten (om k√§nd) eller @kentlundgren</li>
                <li><strong>St√§ng:</strong> Klicka p√• √ó eller tryck Escape</li>
            </ul>

            <h4>5.2 Varf√∂r √§r det sv√•rt att visa datum och tweet-text?</h4>
            <div class="warning">
                <p><strong>‚ö†Ô∏è Problemet med Twitter/X-bilddata:</strong></p>
                <p>N√§r vi har en bild-URL fr√•n Twitter (t.ex. <code>pbs.twimg.com/media/ABC123</code>) finns det <strong>ingen koppling tillbaka</strong> till den ursprungliga tweeten.</p>
            </div>

            <div class="info-box">
                <p><strong>Varf√∂r √§r detta sv√•rt?</strong></p>
                <ul>
                    <li>‚ùå Bild-URL:er inneh√•ller INTE tweet-ID</li>
                    <li>‚ùå Twitter API:s Free tier till√•ter INTE omv√§nd s√∂kning (bild ‚Üí tweet)</li>
                    <li>‚ùå Ingen publik tj√§nst kan koppla bild-URL till tweet</li>
                    <li>‚úÖ Enda l√∂sningen: Manuellt spara tweet-URL n√§r bilden h√§mtas</li>
                </ul>
            </div>

            <h4>5.3 Hur vi l√∂st det:</h4>
            <ol>
                <li>Vi lagrar <strong>manuellt</strong> k√§nda tweet-URLs i koden (objektet <code>imageMetadata</code>)</li>
                <li>Om tweet-URL finns ‚Üí visa "√ñppna p√• X" som g√•r till tweeten</li>
                <li>Om tweet-URL saknas ‚Üí visa l√§nk till @kentlundgren p√• X</li>
            </ol>

            <h4>5.4 Framtida l√∂sning:</h4>
            <p>Med X API Basic tier (~$100/m√•nad) skulle man kunna:</p>
            <ul>
                <li>H√§mta tweets med bilder automatiskt</li>
                <li>Spara tweet-ID, datum och text tillsammans med varje bild</li>
                <li>Visa fullst√§ndig information i lightboxen</li>
            </ul>

            <!-- X/Twitter API information -->
            <h3>6. X/Twitter API - Framtida m√∂jligheter</h3>
            
            <h4>5.1 API-√•tkomstniv√•er:</h4>
            <div class="info-box">
                <p><strong>Free tier (nuvarande):</strong></p>
                <ul>
                    <li>‚ùå Kan INTE s√∂ka tweets eller hashtags</li>
                    <li>‚úÖ Kan endast posta tweets (1,500/m√•nad)</li>
                    <li>üí∞ Kostnad: Gratis</li>
                </ul>
            </div>

            <div class="info-box">
                <p><strong>Basic tier (f√∂r automatisk bildh√§mtning):</strong></p>
                <ul>
                    <li>‚úÖ Kan s√∂ka tweets med hashtags</li>
                    <li>‚úÖ 10,000 tweets/m√•nad</li>
                    <li>‚úÖ Tillg√•ng till Tweet Search API v2</li>
                    <li>üí∞ Kostnad: ~$100/m√•nad</li>
                </ul>
            </div>

            <h4>5.2 API-anrop f√∂r att h√§mta bilder automatiskt</h4>
            <p>Med Basic tier skulle f√∂ljande API-endpoint anv√§ndas:</p>
            <pre><code>https://api.twitter.com/2/tweets/search/recent?query=%23Bjerredssaltsjobad&max_results=100&expansions=attachments.media_keys&media.fields=url,preview_image_url</code></pre>

            <h4>5.3 CORS och backend-krav</h4>
            <p>X/Twitter API till√•ter <strong>inte</strong> direkta anrop fr√•n webbl√§saren. En backend-server (t.ex. PHP p√• kentlundgren.se) skulle beh√∂vas som proxy.</p>

            <!-- Framtida f√∂rb√§ttringar -->
            <h3>7. Framtida F√∂rb√§ttringar</h3>
            <ul>
                <li>Automatisk h√§mtning av bilder via X API (kr√§ver Basic tier)</li>
                <li>Drag-and-drop f√∂r att ladda upp lokala bilder</li>
                <li>M√∂jlighet att √§ndra rotationshastigheten</li>
                <li>Fullsk√§rmsl√§ge f√∂r bildcollaget</li>
                <li>Dela-funktioner f√∂r sociala medier</li>
                <li>Visa datum och tweet-text f√∂r alla bilder (kr√§ver manuell datainsamling eller API)</li>
            </ul>

            <!-- Referenser -->
            <h3>8. Referenser</h3>
            <ul class="references">
                <li>X Developer Portal (2025) <em>X API Documentation</em>. Tillg√§nglig: <a href="https://developer.x.com/en/docs/twitter-api" target="_blank">https://developer.x.com/en/docs/twitter-api</a></li>
                <li>X Developer Portal (2025) <em>Embedded Tweets</em>. Tillg√§nglig: <a href="https://developer.x.com/en/docs/twitter-for-websites/embedded-tweets/overview" target="_blank">https://developer.x.com/en/docs/twitter-for-websites/embedded-tweets</a></li>
                <li>MDN Web Docs (2025) <em>Window.localStorage</em>. Tillg√§nglig: <a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/localStorage" target="_blank">https://developer.mozilla.org/en-US/docs/Web/API/Window/localStorage</a></li>
                <li>MDN Web Docs (2025) <em>CORS - Cross-Origin Resource Sharing</em>. Tillg√§nglig: <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS" target="_blank">https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS</a></li>
            </ul>

        </div>
    </div>

    <!-- UPPDATERING 2026-01-03: Lightbox f√∂r att visa bilder i full storlek -->
    <!-- Klicka p√• en bild i collaget f√∂r att √∂ppna lightbox -->
    <div id="imageLightbox" class="lightbox" style="display: none;">
        <div class="lightbox-overlay"></div>
        <div class="lightbox-content">
            <button id="closeLightbox" class="lightbox-close" title="St√§ng">√ó</button>
            <img id="lightboxImage" src="" alt="Fullstor bild">
            <div class="lightbox-actions">
                <a id="openOnXBtn" href="#" target="_blank" rel="noopener noreferrer" class="lightbox-btn">
                    üê¶ √ñppna p√• X
                </a>
            </div>
            <div id="lightboxImageInfo" class="lightbox-info" style="display: none;"></div>
        </div>
    </div>

    <!-- L√§nk till extern JavaScript-fil -->
    <!-- UPPDATERING 2026-01-03: √Ñndrad fr√•n felaktig absolut s√∂kv√§g till relativ s√∂kv√§g -->
    <script src="javaScript.js"></script>

</body>
</html>
